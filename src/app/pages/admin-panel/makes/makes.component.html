<div style="width: 100%; display: flex; justify-content: center;">
    <dx-data-grid
    #makeGrid
    [dataSource]="makeDataSource"
    [wordWrapEnabled]="true"
    [showBorders]="true"
    [showColumnLines]="true"
    [showRowLines]="true"
    width="80%"
    keyExpr="id"
    [repaintChangesOnly]="true"
    (onSaved)="onChangesSaved($event)"
    (onRowRemoving)="removeMake($event)"
    (onEditorPreparing)="onEditorPrep($event)"
    >

    <dxo-editing
    mode="popup"
    [allowAdding]="true"
    [allowUpdating]="true"
    [allowDeleting]="true"
    >
    </dxo-editing>
    <dxo-selection mode="single"></dxo-selection>

    <dxi-column dataType="string" dataField="makeName" caption="მარკა" [allowEditing]="true">
      <dxi-validation-rule type="required"></dxi-validation-rule>
    </dxi-column>
    <dxi-column dataField="imageUrl" cellTemplate="cellTemplate" editCellTemplate="editCellTemplate" [allowEditing]="true" width="12%" caption="სურათი"></dxi-column>
    <dxi-column dataField="active" caption="აქტიური" [allowEditing]="true" width="15%">
      <dxi-validation-rule type="required"></dxi-validation-rule>
    </dxi-column>
    <!-- <dxi-column dataField="image" [visible]="false" editCellTemplate="editCellTemplate"></dxi-column> -->

    <div *dxTemplate="let data of 'cellTemplate'">
        <img [src]="data.value"  height="70px"/>
    </div>

    <div *dxTemplate="let data of 'editCellTemplate'">
        <img #uploadedImage class="uploadedImage" [src]="previewImageUrl" height="50px"/>
        <dx-file-uploader
          #fileUploader
          [multiple]="false"
          accept="image/*"
          [allowedFileExtensions]="['.jpg', '.jpeg', '.png']"
          uploadMode="useForm"
          (onValueChanged)="fileChanged($event)"
        ></dx-file-uploader>
        <!-- <dx-button class="retryButton" text="Retry" (onClick)="clic($event)"></dx-button> -->
      </div>
    </dx-data-grid>
</div>


